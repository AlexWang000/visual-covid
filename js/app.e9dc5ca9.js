(function(t){function e(e){for(var n,o,s=e[0],l=e[1],c=e[2],u=0,h=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(h.length)h.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==i[l]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},i={app:0},r=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/visual-covid/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0210":function(t,e,a){},"034f":function(t,e,a){"use strict";var n=a("85ec"),i=a.n(n);i.a},"21d1":function(t,e,a){"use strict";var n=a("0210"),i=a.n(n);i.a},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",[a("v-navigation-drawer",{attrs:{app:"",permanent:"",dark:""}},[a("v-list",[a("v-list-item",{attrs:{link:""}},[a("v-list-item-content",{on:{click:function(e){t.feedType="world"}}},[a("v-list-item-title",[t._v("World")])],1)],1),a("v-list-group",{scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-title",[t._v("Country/Region")])]},proxy:!0}])},t._l(t.countryNames,(function(e){return a("v-list-item",{key:e,attrs:{link:""},on:{click:function(a){t.feedType="country",t.selectedCountry=e}}},[a("v-list-item-title",[t._v(t._s(e))])],1)})),1),a("v-list-group",{scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-title",[t._v("Animation")])]},proxy:!0}])},[a("v-list-item",{attrs:{link:""},on:{click:function(e){t.feedType="animation",t.selectedAnimation="barChart"}}},[a("v-list-item-title",[t._v("Bar Chart")])],1),a("v-list-item",{attrs:{link:""},on:{click:function(e){t.feedType="animation",t.selectedAnimation="lineChart"}}},[a("v-list-item-title",[t._v("Line Chart")])],1),a("v-list-item",{attrs:{link:""},on:{click:function(e){t.feedType="animation",t.selectedAnimation="worldMap"}}},[a("v-list-item-title",[t._v("World Map")])],1)],1)],1)],1),a("v-main",[t.loaded?a("v-container",{attrs:{fluid:""}},["world"==t.feedType?a("div",[a("WorldMap",{key:"wm1",attrs:{animation:!1}}),a("Table",{key:"t1"})],1):"country"==t.feedType?a("div",[a("LineChart",{key:"lc1",attrs:{defaultCountry:t.selectedCountry}}),a("Table",{key:"t2",attrs:{type:t.selectedCountry}})],1):t._e(),"animation"==t.feedType?a("div",["barChart"==t.selectedAnimation?a("BarChart"):t._e(),"lineChart"==t.selectedAnimation?a("LineChart",{key:"lc2",attrs:{animation:!0}}):t._e(),"worldMap"==t.selectedAnimation?a("WorldMap",{key:"wm2",attrs:{animation:!0}}):t._e()],1):t._e()]):t._e()],1)],1)],1)},r=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("svg",{staticClass:"runChart",attrs:{id:"runChart"}}),"confirmed"==t.type?a("p",[t._v("Total Confirmed Cases")]):"death"==t.type?a("p",[t._v("Total Death")]):"recovered"==t.type?a("p",[t._v("Total Recovered")]):t._e(),a("v-select",{attrs:{"item-text":"text","item-value":"value",items:[{text:"Total Confirmed Cases",value:"confirmed"},{text:"Total Death",value:"death"},{text:"Total Recovered",value:"recovered"}],label:"Data Type"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1)},s=[],l=a("5698"),c={timeSeriesconfirmed:"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv",timeSeriesDeath:"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_deaths_global.csv",timeSeriesRecovered:"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_recovered_global.csv",topoData:"world-topo.json"};class d{constructor(){this.countryNames={},this.codeToName={},this.nameToCode={},this.buildTranslation()}async loadData(){const t={},e=await l["e"](c.timeSeriesconfirmed),a=await l["e"](c.timeSeriesDeath),n=await l["e"](c.timeSeriesRecovered),i=[];for(let l in e[0])"Country/Region"!=l&&"Lat"!=l&&"Long"!=l&&"Province/State"!=l&&i.push(l);const r=[],o=[],s=[],d=(e,a,n)=>{e.forEach(e=>{let i=e["Country/Region"];t[i]=!0,n[i]?n[i]+=parseInt(e[a]):n[i]=parseInt(e[a])})};for(let l of i){const t={},i={},c={};let u=new Date(l);d(e,l,t),d(a,l,i),d(n,l,c),r.push([u,t]),o.push([u,i]),s.push([u,c])}const u=i.length;this.countryNames=Object.keys(t),this.currentData=this.countryNames.map(t=>({name:t,confirmed:r[u-1][1][t],death:o[u-1][1][t],recovered:s[u-1][1][t]})),this.timeSeriesData={timeSeriesconfirmedData:r,timeSeriesDeathData:o,timeSeriesRecoveredData:s},this.rawData={timeSeriesconfirmed:e,timeSeriesDeath:a,timeSeriesRecovered:n},this.dates=i}buildAnimationFrames(t){const{k:e,n:a,type:n}=t,i=this.getTimeSeriesData(n);function r(t,e){const[n,i]=t,[r,o]=e;return t=>{const e={date:n*(1-t)+r*t,values:{},top:[],prev:null,next:null},s=[];for(let a in i){const e={name:a,value:i[a]*(1-t)+o[a]*t};s.push(e)}return s.sort((t,e)=>e.value-t.value),s.forEach((t,n)=>{e.values[t.name]={value:t.value,rank:Math.min(a,n)},e.top.length<a&&t.value>0&&e.top.push(t.name)}),e.prev=e.next=e.values,e}}const o=[];function s(t,e){const a=o.slice(-1)[0],n=e(t);a&&(n.prev=a.values,a.next=n.values),o.push(n)}for(let[u,h]of l["q"](i)){const t=r(u,h);for(let a=0;a<e;++a){const n=a/e;s(n,t)}}const c=i.slice(-1)[0],d=r(c,c);return s(0,d),this.keyframes=o,this.keyframes}getTimeSeriesData(t){let e=null;const{timeSeriesconfirmedData:a,timeSeriesDeathData:n,timeSeriesRecoveredData:i}=this.timeSeriesData;return e="confirmed"==t?a:"death"==t?n:i,e}getCountryCode(t){return this.nameToCode[t]}getCountryName(t){return this.codeToName[t]}getAllCountryNames(){return this.countryNames}getAnimationFrames(t){return this.buildAnimationFrames(t)}getRawData(){return this.rawData}getCurrentData(){return this.currentData}getCountryData(t,e){const a=this.getTimeSeriesData(e),n=a.map(e=>{const[a,n]=e,i={};for(let r of t)i[r]=n[r];return[a,i]});return n}getCountryAllData(t){const{timeSeriesconfirmedData:e,timeSeriesDeathData:a,timeSeriesRecoveredData:n}=this.timeSeriesData,i=this.dates.map((i,r)=>({date:new Date(i).getTime(),confirmed:e[r][1][t],death:a[r][1][t],recovered:n[r][1][t]}));return i}async getTopoData(){return this.topoData||(this.topoData=await l["n"](c.topoData)),this.topoData}buildTranslation(){this.codeToName={AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"Åland Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthélemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia, Plurinational State of",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos Islands",CD:"Congo, the Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Côte d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Curaçao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands (Malvinas)",FM:"Micronesia, Federated States of",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GL:"Greenland",GM:"Gambia",GN:"Guinea",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran, Islamic Republic of",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Lao People's Democratic Republic",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Macedonia, the former Yugoslav Republic of",ME:"Montenegro",MF:"Saint Martin (French part)",MG:"Madagascar",MH:"Marshall Islands",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine, State of",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RO:"Romania",RS:"Serbia",RU:"Russian Federation",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten (Dutch part)",SY:"Syrian Arab Republic",SZ:"Swaziland",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TW:"Taiwan, Province of China",TZ:"Tanzania, United Republic of",UA:"Ukraine",UG:"Uganda",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VC:"Saint Vincent and the Grenadines",VE:"Venezuela, Bolivarian Republic of",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Viet Nam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",YE:"Yemen",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",BO:"Bolivia",BN:"Brunei",CV:"Cabo Verde",CG:"Congo (Brazzaville)",CD:"Congo (Kinshasa)",CI:"Cote d'Ivoire",CZ:"Czechia",SZ:"Eswatini",VA:"Holy See",IR:"Iran",KR:"Korea, South",MD:"Moldova",MK:"North Macedonia",RU:"Russia",TW:"Taiwan*",TZ:"Tanzania",US:"US",VE:"Venezuela",VN:"Vietnam",SY:"Syria",LA:"Laos",PS:"West Bank and Gaza",MM:"Burma"};const t={};for(let e in this.codeToName)t[this.codeToName[e]]=e;this.nameToCode=t}}const u=new d;var h,m=u;class p{constructor(t){this.svg=t}build(t){this.clean(),setTimeout(()=>{this.options=t,this.buildScales(),this.buildFormats(),this.keyframes=m.getAnimationFrames(this.options),this.buildKeyframeGenerator(),this.buildComponents(),this.animate()},t.duration)}clean(){this.svg&&(this.play=!1,this.svg.selectAll("*").interrupt(),this.svg.selectAll("*").remove())}buildKeyframeGenerator(){const t=this.keyframes;function*e(){for(let e of t)yield e}this.keyGen=e}async showFirstFrame(){const t=this.svg,e=this.animation,a=this.keyframes,{x:n}=this.scales,{duration:i}=this.options,r=a[0],o=t.transition().duration(i).ease(l["f"]),s=r.top[0];n.domain([0,r.values[s].value]),e(r,o),await o.end()}async showLastFrame(){const t=this.svg,e=this.animation,a=this.keyframes,{x:n}=this.scales,{duration:i}=this.options,r=a[a.length-1],o=t.transition().duration(i).ease(l["f"]),s=r.top[0];n.domain([0,r.values[s].value]),e(r,o),await o.end()}animate(){this.play=!0,this.animation()}async loadData(t,e){let a=await l["e"](t);this.data=e(a)}buildScales(){const{width:t,n:e,margin:a,barSize:n}=this.options,i=l["v"](l["x"]),r=t=>i(t),o=l["t"]([0,1],[a.left,t-a.right]),s=l["s"]().domain(l["r"](e+1)).rangeRound([a.top,n*(e+1+.1)]).padding(.1);this.scales={x:o,y:s,color:r}}buildFormats(){const t=l["A"]("%m-%d"),e=l["h"](",d"),a=(t,a)=>{const n=l["l"](t,a);return function(t){this.textContent=e(n(t))}};this.formats={formatDate:t,formatNumber:e,textTween:a}}buildComponents(){var t,e,a,n,i;const r=this.svg,{width:o,hight:s,barSize:c,margin:d,n:u,k:h,duration:m}=this.options,{x:p,y:f,color:v}=this.scales,{formatDate:g,formatNumber:y,textTween:b}=this.formats,S=this.keyframes,C=this.keyGen;var T=r.append("g").attr("fill-opacity",.6).selectAll("rect"),w=r.append("g").style("font-size","12px").attr("text-anchor","end").selectAll("text"),x=r.append("g").style("font-size","12px").attr("text-anchor","start").selectAll("text"),D=r.append("g").attr("transform",`translate(0,${d.top})`),k=l["d"](p).ticks(o/160).tickSizeOuter(0).tickSizeInner(-c*(u+f.padding())),A=r.append("text").text(g(S[0].date)).style("font-size","20px").style("font-weight",500).attr("text-anchor","end").attr("x",o-6).attr("y",d.top+c*(u-1)).attr("dy","0.32em");this.components={bar:T,label:w,number:x,g:D,axis:k,now:A},t=({date:t,values:e,top:a,prev:n,next:i},r)=>T=T.data(a,t=>t).join(t=>t.append("rect").attr("fill",v).attr("height",f.bandwidth()).attr("x",p(0)).attr("y",t=>f(n[t].rank)).attr("width",t=>p(n[t].value)-p(0)),t=>t,t=>t.transition(r).remove().attr("y",t=>f(i[t].rank)).attr("width",t=>p(i[t].value)-p(0))).call(t=>t.transition(r).attr("y",t=>f(e[t].rank)).attr("width",t=>p(e[t].value)-p(0))),e=({date:t,values:e,top:a,prev:n,next:i},r)=>w=w.data(a,t=>t).join(t=>t.append("text").attr("transform",t=>`translate(0,${f(n[t].rank)})`).attr("y",3*f.bandwidth()/4).attr("x",d.left-10).attr("dy","-0.25em").text(t=>t),t=>t,t=>t.transition(r).remove().attr("transform",t=>`translate(0,${f(i[t].rank)})`).call(t=>t.select("tspan").tween("text",t=>b(e[t].value,i[t].value)))).call(t=>t.transition(r).attr("transform",t=>`translate(0,${f(e[t].rank)})`).call(t=>t.select("tspan").tween("text",t=>b(n[t].value,e[t].value)))),i=({date:t,values:e,top:a,prev:n,next:i},r)=>x=x.data(a,t=>t).join(t=>t.append("text").attr("transform",t=>`translate(${p(n[t].value)},${f(n[t].rank)})`).attr("y",3*f.bandwidth()/4).attr("x",6).attr("dy","-0.25em").text(t=>n[t].value),t=>t,t=>t.transition(r).remove().attr("transform",t=>`translate(${p(n[t].value)},${f(i[t].rank)})`).call(t=>t.tween("text",t=>b(e[t].value,i[t].value)))).call(t=>t.transition(r).attr("transform",t=>`translate(${p(e[t].value)},${f(e[t].rank)})`).call(t=>t.tween("text",t=>b(n[t].value,e[t].value)))),a=(t,e)=>{D.transition(e).call(k),D.select(".tick:first-of-type text").remove(),D.selectAll(".tick:not(:first-of-type) line").attr("stroke","lightgrey").attr("stroke-dasharray","5,5"),D.select(".domain").remove()},n=({date:t},e)=>{e.end().then(()=>A.text(g(t)))};const _=C(),M=()=>{const r=_.next();if(this.play&&!r.done){const o=l["z"]().duration(m).ease(l["f"]).on("end",M),s=r.value,c=s.top[0];p.domain([0,s.values[c].value]),t(s,o),e(s,o),i(s,o),a(s,o),n(s,o)}};this.animation=M}}var f={beforeDestroy:function(){h.clean()},watch:{type:function(){const t={width:1e3,height:600,barSize:30,n:15,k:5,type:this.type,duration:250,margin:{top:16,right:100,bottom:6,left:150}};h.build(t)}},mounted:async function(){const t=l["y"]("#runChart").attr("viewBox",[0,0,1e3,450]),e={width:1e3,height:600,barSize:30,n:15,k:5,type:this.type,duration:250,margin:{top:16,right:100,bottom:6,left:150}};h=new p(t),h.build(e)},data:function(){return{type:"confirmed"}}},v=f,g=a("2877"),y=Object(g["a"])(v,o,s,!1,null,null,null),b=y.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("svg",{staticClass:"worldMap",attrs:{id:"worldMap"}}),"confirmed"==t.dataType?a("p",[t._v("Total Confirmed Cases")]):"death"==t.dataType?a("p",[t._v("Total Death")]):"recovered"==t.dataType?a("p",[t._v("Total Recovered")]):t._e(),a("v-select",{attrs:{"item-text":"text","item-value":"value",items:[{text:"Total Confirmed Cases",value:"confirmed"},{text:"Total Death",value:"death"},{text:"Total Recovered",value:"recovered"}],label:"Data Type"},model:{value:t.dataType,callback:function(e){t.dataType=e},expression:"dataType"}})],1)},C=[],T=a("3fe2");class w{constructor(t){this.svg=t}async build(t){this.clean(),this.options=t,this.world=await m.getTopoData(),this.data=m.getTimeSeriesData(t.type),this.buildScales(),this.options["animation"]?(this.buildTopo(),this.buildLegends(),this.animate()):(this.buildTopo(),this.buildLegends(),this.staticAnimate())}buildScales(){const t=this.data,e=t[t.length-1],a=Math.ceil(Math.log10(l["p"](Object.values(e[1])))),n=l["u"]().domain([1,Math.pow(10,a)]).range(["steelblue","black"]);this.scales={colorScale:n},this.maxScale=a}buildTopo(){const t=this.world,e=this.svg,a=l["j"](),{margin:n}=this.options;var i=l["k"]().projection(a);const r=T["a"](t,t.objects.countries),o={type:"Sphere"},s=l["i"](),c=e.append("g").attr("transform",`translate(${n.left}, 0)`);c.append("path").attr("class","graticule").attr("d",i(s)).attr("fill","none").attr("stroke","#ccc"),c.selectAll("path.feature").data(r.features).enter().append("path").attr("id",t=>t.properties.countryCode||t.properties.name).attr("class","country").attr("d",i),c.append("path").attr("class","outline").attr("d",i(o)).attr("fill","none").attr("stroke","#000")}buildLegends(){this.data;const t=this.svg,{colorScale:e}=this.scales,a=this.maxScale,{legendSize:n,width:i,height:r,margin:o}=this.options,s=t.append("g").attr("transform",`translate(${i/2}, ${r-30})`).append("text"),l=t.append("g").attr("transform",`translate(0, ${r-60-a*(n+5)})`),c=[];for(let d=0;d<=a;d++)c.push(Math.pow(10,d));l.selectAll("rects").data(c).enter().append("rect").attr("x",0).attr("y",(t,e)=>e*(n+5)).attr("width",n).attr("height",n).style("fill",t=>e(t)),l.selectAll("texts").data(c).enter().append("text").attr("x",1.2*n).attr("y",(t,e)=>(e+.5)*(n+5)).text(t=>t).attr("text-anchor","left").style("alignment-baseline","middle"),this.legends={legends:l,currentDate:s}}staticAnimate(){const t=this.data,e=this.svg,{colorScale:a}=this.scales,{currentDate:n}=this.legends,i=t[t.length-1];n.text(l["A"]("%m-%d")(i[0]));for(let r in i[1])e.select("#"+m.getCountryCode(r)).transition().duration(1e3).style("fill",a(l["p"]([i[1][r],1])))}async animate(){const t=this.data,e=this.svg,{colorScale:a}=this.scales,{currentDate:n}=this.legends;let i={},r=0;n.transition().on("start",(function e(){r<t.length&&(l["a"](this).ease(l["f"]).duration(200).text(l["A"]("%m-%d")(t[r][0])).transition().on("start",e),r+=1)}));for(let o in t[0][1])i[o]=0,e.select("#"+m.getCountryCode(o)).transition().on("start",(function e(){i[o]<t.length&&(l["a"](this).ease(l["f"]).duration(200).style("fill",a(l["p"]([t[i[o]][1][o],1]))).transition().on("start",e),i[o]+=1)}))}clean(){this.svg&&(this.svg.selectAll("*").interrupt(),this.svg.selectAll("*").remove())}}var x,D=new w,k={props:{animation:Boolean},watch:{dataType:function(t,e){D.build({animation:this.animation,type:this.dataType,legendSize:20,duration:200,width:1e3,height:600,margin:{left:30}})}},data:function(){return{dataType:"confirmed"}},beforeDestroy:function(){D.clean()},mounted:function(){const t=l["y"]("#worldMap").attr("width",1e3).attr("height",600);D=new w(t),D.build({animation:this.animation,type:this.dataType,legendSize:20,duration:200,width:1e3,height:600,margin:{left:30}})},methods:{animate:function(){D.animate()}}},A=k,_=(a("21d1"),Object(g["a"])(A,S,C,!1,null,null,null)),M=_.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[t._v(" "+t._s("global"==t.type?"Data by Country/Region":t.type)+" "),a("v-spacer"),"global"==t.type?a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}):t._e()],1),a("v-data-table",{attrs:{headers:t.headers,items:t.countryData,"sort-by":"global"==t.type?["confirmed"]:["date"],"sort-desc":[!0],"items-per-page":t.countryData.length,search:t.search,"hide-default-footer":""},scopedSlots:t._u([{key:"item.date",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.formatDate(a.date))+" ")]}},"global"==t.type?{key:"item.confirmed",fn:function(e){var n=e.item;return[a("v-chip",{attrs:{label:"",color:t.colorScale["confirmed"](n.confirmed+1),dark:""}},[t._v(t._s(n.confirmed))])]}}:null,"global"==t.type?{key:"item.death",fn:function(e){var n=e.item;return[a("v-chip",{attrs:{label:"",color:t.colorScale["death"](n.death+1),dark:""}},[t._v(t._s(n.death))])]}}:null,"global"==t.type?{key:"item.recovered",fn:function(e){var n=e.item;return[a("v-chip",{attrs:{label:"",color:t.colorScale["recovered"](n.recovered+1),dark:""}},[t._v(t._s(n.recovered))])]}}:null],null,!0)})],1)},N=[],B={props:{type:{type:String,default:"global"}},computed:{countryData:function(){if("global"==this.type)return m.getCurrentData();{const t=this.type;return m.getCountryAllData(t)}},headers:function(){return"global"==this.type?[{text:"Country/Region",value:"name",align:"start",width:"300"},{text:"confirmed",value:"confirmed",align:"start",sortable:!0},{text:"Death",value:"death",align:"start",sortable:!0},{text:"Recovered",value:"recovered",align:"start",sortable:!0}]:[{text:"Date",value:"date",align:"start",width:"300",sortable:!0},{text:"Total Confirmed Cases",value:"confirmed",align:"start",sortable:!0},{text:"Total Death",value:"death",align:"start",sortable:!0},{text:"Total Recovered",value:"recovered",align:"start",sortable:!0}]}},data:function(){return{search:"",colorScale:{confirmed:l["u"]().domain([1,1e7]).range(["rgb(196, 230, 255)","rgb(0, 63, 110)"]),death:l["u"]().domain([1,1e6]).range(["rgb(196, 230, 255)","rgb(0, 63, 110)"]),recovered:l["u"]().domain([1,1e7]).range(["rgb(196, 230, 255)","rgb(0, 63, 110)"])}}},methods:{formatDate:function(t){return l["A"]("%m-%d")(new Date(t))}}},R=B,G=Object(g["a"])(R,I,N,!1,null,null,null),O=G.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("svg",{attrs:{id:"lineChart"}}),"confirmed"==t.value?a("p",[t._v("Total Confirmed Cases")]):"death"==t.value?a("p",[t._v("Total Death")]):"recovered"==t.value?a("p",[t._v("Total Recovered")]):t._e(),a("v-select",{attrs:{"persistent-hint":"",hint:"Compare with Other Countries",multiple:"",label:"Add Countries","menu-props":{maxHeight:"300"},items:t.countryNames},model:{value:t.countries,callback:function(e){t.countries=e},expression:"countries"}}),a("v-select",{attrs:{label:"Data Type","item-text":"text","item-value":"value",items:[{text:"Total Confirmed Cases",value:"confirmed"},{text:"Total Death",value:"death"},{text:"Total Recovered",value:"recovered"}]},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)},L=[],E=a("b2aa");class F{constructor(t){this.svg=t}build(t){this.clean(),this.options=t,this.data=m.getCountryData(t.countries,t.value),t["animation"]?(this.options["n"]=30,this.options["duration"]=200,this.buildAnimationScales(),this.buildAnimationComponents(),this.animate()):(this.buildStaticScales(),this.buildStaticComponents())}buildStaticScales(){const t=this.data,{margin:e,width:a,height:n}=this.options,i=l["w"]().domain(l["g"](t,t=>t[0])).range([e.left,a-e.right]),r=l["t"]().domain([0,l["p"](t,t=>l["p"](Object.values(t[1])))]).nice().range([n-e.bottom,e.top]),o=l["t"]().domain([0,Object.keys(t[0][1]).length]).range(["steelblue","red"]);this.scales={x:i,y:r,color:o}}buildAnimationScales(){const t=this.data,{margin:e,width:a,height:n,n:i}=this.options,r=l["w"]().domain([t[0][0],t[i][0]]).range([e.left,a-e.right]),o=l["t"]().domain([0,l["p"](t.slice(0,i+1),t=>l["p"](Object.values(t[1])))]).range([n-e.bottom,e.top]),s=l["t"]().domain([0,Object.keys(t[0][1]).length]).range(["steelblue","red"]);this.scales={x:r,y:o,color:s}}buildStaticComponents(){const t=this.data,e=this.svg,{x:a,y:n,color:i}=this.scales,{margin:r,width:o,height:s}=this.options,c=e.append("g").attr("transform",`translate(0,${s-r.bottom})`),d=e.append("g").attr("transform",`translate(${r.left},0)`),u=t=>t.call(l["b"](a).ticks(o/80,l["A"]("%m-%d")).tickSizeOuter(0)),h=t=>t.call(l["c"](n));function m(){const t=this.getTotalLength(),e=l["m"]("0,"+t,t+","+t);return function(t){return e(t)}}c.call(u),d.call(h);const p=Object.keys(t[0][1]),f=t[t.length-1];for(let v=0;v<p.length;v++){const r=p[v],o=l["o"]().x(t=>a(t[0])).y(t=>n(t[1][r])),s=e.append("g").attr("transform","translate("+a(f[0])+","+n(f[1][r])+")").attr("text-anchor","end").append("text").attr("opacity",0).text(r);e.append("path").datum(t).attr("fill","none").attr("stroke",i(v)).attr("stroke-width",2).attr("d",o).transition().duration(10*t.length).attrTween("stroke-dasharray",m).on("end",()=>{s.transition().duration(100).attr("opacity",1)})}}async buildAnimationComponents(){const t=this.data,e=this.svg,{x:a,y:n,color:i}=this.scales,{margin:r,width:o,height:s,n:c,duration:d}=this.options,u=e.append("g").attr("transform",`translate(0,${s-r.bottom})`),h=e.append("g").attr("transform",`translate(${r.left},0)`),m=e.append("g"),p=t=>t.call(l["b"](a).ticks(o/80,l["A"]("%m-%d")).tickSizeOuter(0)),f=t=>t.call(l["c"](n));u.call(p),h.call(f);const v=m.append("defs").append("clipPath").attr("id","clip").append("rect").attr("transform",`translate(${r.left}, ${r.top})`).attr("height",s-r.bottom-r.top),g=m.append("g").attr("clip-path","url(#clip)"),y=Object.keys(t[0][1]),b=[];for(let w=0;w<y.length;w++){const r=y[w],o=l["o"]().x(t=>a(t[0])).y(t=>n(t[1][r])),s=g.append("path").datum(t).attr("fill","none").attr("stroke",i(w)).attr("stroke-width",2).attr("d",o),c=e.append("g").append("text").attr("transform","translate("+a(t[0][0])+","+n(t[0][1][r])+")").attr("text-anchor","end").text(r);b.push([s,o,c,r,0])}const S=()=>{u.transition().duration(d).ease(l["f"]).call(p),h.transition().duration(d).ease(l["f"]).call(f)},C=()=>{const e={},i={};for(let r of b){const o=r[3];e[o]=0,i[o]=0,r[0].transition().on("start",(function i(){if(e[o]+c<t.length){const s=e[o],u=l["p"](Object.values(t[s+c][1]));u>n.domain()[1]&&n.domain([0,u]),a.domain([t[s][0],t[s+c][0]]),S(),l["a"](this).duration(d).ease(l["f"]).attrTween("d",(function(t){var e=l["y"](this).attr("d"),a=r[1](t);return Object(E["interpolatePath"])(e,a)})).transition().on("start",i),e[o]++}})),r[2].transition().on("start",(function e(){if(i[o]+c<t.length){const r=i[o];l["a"](this).duration(d).ease(l["f"]).attr("transform",`translate(${a.range()[1]}, ${n(t[r+c][1][o])})`).transition().on("start",e),i[o]++}}))}},T=()=>{v.transition().duration(d*c).ease(l["f"]).attr("width",o-r.right-r.left).on("end",C);const e={};for(let i of b){const r=i[3];e[r]=1,i[2].transition().on("start",(function o(){if(e[r]<=c){const s=e[r];l["a"](this).duration(d).ease(l["f"]).attr("transform",`translate(${a(t[s][0])},${n(t[s][1][i[3]])})`).transition().on("start",o),e[r]++}}))}};this.animation=T}clean(){this.svg&&(this.svg.selectAll("*").interrupt(),this.svg.selectAll("*").remove())}animate(){const t=this.animation;t()}}var j={props:{defaultCountry:{type:String,default:"Italy"},animation:{type:Boolean,default:!1}},beforeDestroy:function(){x.clean()},watch:{defaultCountry:function(t,e){this.countries=[t]}},updated:function(){x.build({countries:this.countries,value:this.value,animation:this.animation,margin:{top:20,right:30,bottom:30,left:60},n:30,duration:200,height:500,width:1e3})},mounted:function(){x=new F(l["y"]("#lineChart").attr("viewBox",[0,0,1e3,500])),x.build({countries:this.countries,value:this.value,animation:this.animation,margin:{top:20,right:30,bottom:30,left:60},n:30,duration:200,height:500,width:1e3})},data:function(){return{countries:[this.defaultCountry],value:"confirmed",countryNames:m.getAllCountryNames()}},methods:{animate:function(){x.animate()}}},z=j,K=Object(g["a"])(z,P,L,!1,null,null,null),$=K.exports,V={name:"App",components:{BarChart:b,WorldMap:M,Table:O,LineChart:$},mounted:async function(){await m.loadData(),this.countryNames=m.getAllCountryNames(),this.loaded=!0},data:function(){return{loaded:!1,countryNames:[],feedType:"world",selectedCountry:"",selectedAnimation:""}}},U=V,H=(a("034f"),Object(g["a"])(U,i,r,!1,null,null,null)),W=H.exports,Z=a("ce5b"),J=a.n(Z);a("bf40");n["default"].use(J.a);var Y=new J.a({});n["default"].config.productionTip=!1,new n["default"]({vuetify:Y,render:function(t){return t(W)}}).$mount("#app")},"85ec":function(t,e,a){}});
//# sourceMappingURL=app.e9dc5ca9.js.map